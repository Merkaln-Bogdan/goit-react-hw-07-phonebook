(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(e,t,n){e.exports={listItem:"PhonebookListItem_listItem__3WmFw",dataPerson:"PhonebookListItem_dataPerson__x_Wwe",buttonRemove:"PhonebookListItem_buttonRemove__BO8KH"}},2:function(e,t,n){e.exports={wrapper:"PhoneBook_wrapper__22FBk",title:"PhoneBook_title__2Gn7s",form:"PhoneBook_form__3pajh",buttonAdd:"PhoneBook_buttonAdd__39hPw",inputField:"PhoneBook_inputField__3p_Bu",wrapperFilter:"PhoneBook_wrapperFilter__2-wYk",labelMarkup:"PhoneBook_labelMarkup__1R54G",phoneList:"PhoneBook_phoneList__I63Ci",contactList:"PhoneBook_contactList__9qPFk"}},23:function(e,t,n){e.exports={Alert:"AlertWindow_Alert__1S-AC",AlertMessage:"AlertWindow_AlertMessage__38vMd"}},34:function(e,t,n){e.exports={enter:"AlertTransition_enter__3xsgH",enterActive:"AlertTransition_enterActive__2oyUz",exit:"AlertTransition_exit__1_Lc3",exitActive:"AlertTransition_exitActive__3q0lc"}},36:function(e,t,n){e.exports={enter:"PhonebookListSlide_enter__1xwa-",enterActive:"PhonebookListSlide_enterActive__3GjhH",exit:"PhonebookListSlide_exit__2L-3x",exitActive:"PhonebookListSlide_exitActive__aGnlb"}},37:function(e,t,n){e.exports={enter:"PhoneFilter_enter__31TqJ",enterActive:"PhoneFilter_enterActive__xniGF",exit:"PhoneFilter_exit__3qYpn",exitActive:"PhoneFilter_exitActive__2P_Lq"}},38:function(e,t,n){e.exports={enter:"TitleSlideTransition_enter__ywmOT",appear:"TitleSlideTransition_appear__1LScn",enterActive:"TitleSlideTransition_enterActive__2Xvx5",appearActive:"TitleSlideTransition_appearActive__99Zvx",appearDone:"TitleSlideTransition_appearDone__yzsRY",exit:"TitleSlideTransition_exit__1noBt",exitActive:"TitleSlideTransition_exitActive__3p12s"}},41:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(9),r=n.n(o),i=n(15),s=n(16),l=n(18),u=n(17),m=n(2),_=n.n(m),h=n(11),d=n(34),b=n.n(d),p=n(8),f=n(1),v={addContactsRequest:Object(f.b)("contacts/addRequest"),addContactsSuccess:Object(f.b)("contacts/addSuccess"),addContactsError:Object(f.b)("contacts/addError"),fetchContactsRequest:Object(f.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(f.b)("contacts/fetchSuccess"),fetchContactsError:Object(f.b)("contacts/fetchError"),removeContactsRequest:Object(f.b)("contacts/removeRequest"),removeContactsSuccess:Object(f.b)("contacts/removeSuccess"),removeContactsError:Object(f.b)("contacts/removeError"),changeFilter:Object(f.b)("contacts/filter")},C=n(19),E=n.n(C),x={addContacts:function(e,t){return function(n){n(v.addContactsRequest()),E.a.post("http://localhost:2000/contacts",{name:e,number:t}).then((function(e){return n(v.addContactsSuccess(e.data))})).catch((function(e){return n(v.addContactsError())}))}},fetchContacts:function(){return function(e){e(v.fetchContactsRequest()),E.a.get("http://localhost:2000/contacts").then((function(t){return e(v.fetchContactsSuccess(t.data))})).catch((function(t){return e(v.fetchContactsError())}))}},removeContact:function(e){return function(t){t(v.removeContactsRequest()),E.a.delete("http://localhost:2000/contacts/".concat(e)).then((function(){return t(v.removeContactsSuccess(e))})).catch((function(e){return t(v.removeContactsError())}))}}},A=n(7),O=function(e){return e.actions.item},k=function(e){return e.actions.filter},j={getActions:O,getFilter:k,visibleContacts:Object(A.a)([O,k],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},P=n(23),S=n.n(P),g=function(){return c.a.createElement("div",{className:S.a.Alert},c.a.createElement("span",{className:S.a.AlertMessage},"\u041d\u043e\u043c\u0435\u0440 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"))},F=n(69),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",alertName:null},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(h.a)({},a,c))},e.handleSubmit=function(t){var n=e.props,a=n.addContacts,c=n.contacts;if(t.preventDefault(),c.find((function(t){return t.name.toLowerCase()===e.state.name.toLowerCase()})))return e.setState({alertName:!0}),setTimeout((function(){e.setState({alertName:null})}),3e3);""===e.state.name||""===e.state.number?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u043d\u043e\u043c\u0435\u0440!"):(a(e.state.name,e.state.number),e.setState({name:"",number:""}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{className:_.a.form,onSubmit:this.handleSubmit},c.a.createElement("label",null,"\u0418\u043c\u044f",c.a.createElement("input",{className:_.a.inputField,type:"text",value:t,onChange:this.handleChange,name:"name"})),c.a.createElement("label",null,"\u041d\u043e\u043c\u0435\u0440",c.a.createElement("input",{className:_.a.inputField,type:"text",value:n,onChange:this.handleChange,name:"number"})),c.a.createElement("button",{className:_.a.buttonAdd,type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442")),c.a.createElement("div",null)),c.a.createElement(F.a,{in:this.state.alertName,timeout:250,classNames:b.a,unmountOnExit:!0},c.a.createElement(g,null)))}}]),n}(a.Component),w={addContacts:x.addContacts},y=Object(p.b)((function(e){return{contacts:j.visibleContacts(e)}}),w)(N),L={onChangeFilter:v.changeFilter},T=Object(p.b)((function(e){return{value:e.actions.filter}}),L)((function(e){var t=e.value,n=e.onChangeFilter;return c.a.createElement("div",{className:_.a.wrapperFilter},c.a.createElement("label",{className:_.a.labelMarkup},"\u041d\u0430\u0439\u0442\u0438 \u043d\u043e\u043c\u0435\u0440",c.a.createElement("input",{className:_.a.inputField,type:"text",value:t,onChange:function(e){return n(e.target.value)}})))})),R=n(13),q=n.n(R),B=function(e){var t=e.id,n=e.name,a=e.number,o=e.onRemovePersonData;return c.a.createElement("div",null,c.a.createElement("li",{key:t,className:q.a.listItem},c.a.createElement("span",{className:q.a.dataPerson},n,":"),c.a.createElement("span",{className:q.a.dataPerson},a),c.a.createElement("button",{className:q.a.buttonRemove,onClick:o},"\u2715")))},D=n(36),I=n.n(D),M=n(37),G=n.n(M),W=n(70);var H,J={onRemovePersonData:x.removeContact},Y=Object(p.b)((function(e){return{contacts:j.visibleContacts(e)}}),J)((function(e){var t=e.contacts,n=e.onRemovePersonData;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:_.a.phoneList},c.a.createElement("h2",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.a.createElement(y,null),t.length>0?c.a.createElement(F.a,{in:t.length>1,timeout:250,classNames:G.a,unmountOnExit:!0},c.a.createElement(T,null)):c.a.createElement("h2",null,"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"),c.a.createElement(W.a,{component:"ul",className:_.a.contactList},t.map((function(e){return c.a.createElement(F.a,{key:e.id,timeout:300,classNames:I.a},c.a.createElement(B,{key:e.id,name:e.name,number:e.number,onRemovePersonData:function(){return n(e.id)}}))})))))})),z=n(38),K=n.n(z),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement("div",{className:_.a.Wrapper},c.a.createElement(F.a,{in:!0,appear:!0,timeout:1e3,classNames:K.a,unmountOnExit:!0},c.a.createElement("h1",{className:_.a.title},"Phonebook")),c.a.createElement(Y,null))}}]),n}(a.Component),X={onFetchContacts:x.fetchContacts},Z=Object(p.b)((function(e){return{contacts:j.visibleContacts(e)}}),X)(U),Q=n(39),V=n(6),$=Object(f.c)([],(H={},Object(h.a)(H,v.fetchContactsSuccess,(function(e,t){return t.payload})),Object(h.a)(H,v.addContactsSuccess,(function(e,t){return[].concat(Object(Q.a)(e),[t.payload])})),Object(h.a)(H,v.removeContactsSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),H)),ee=Object(V.c)({item:$,filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v.changeFilter.type:return a;default:return e}}}),te=Object(f.a)({reducer:{actions:ee}});r.a.render(c.a.createElement(p.a,{store:te},c.a.createElement(Z,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.17e6ecad.chunk.js.map